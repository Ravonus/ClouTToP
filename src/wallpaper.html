<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Menus</title>

  <style>
    body {
      overflow: hidden;
    }
  </style>


</head>


<body>
  <div id="wp"></div>
  <webview id="foo" src="http://html5wallpaper.com/wallpaper/three-js-interactive-solar-system/">
    <div class="indicator"></div>
  </webview>


  <script type="text/javascript">
    // Event handlers for loading events.
    // Use these to handle loading screens, transitions, etc

    const { remote, ipcRenderer } = require('electron');
    const { screen } = remote;

    const displays = screen.getAllDisplays();
    onload = () => {

      const webview = document.getElementById('foo')
      const indicator = document.querySelector('.indicator')

      const loadstart = () => {
        indicator.innerText = 'loading...'
      }

      const loadstop = () => {
        indicator.innerText = ''


        webview.insertCSS('html,body{ overflow:hidden; background-color: rgba(255, 255, 255, 0) !important; background: rgba(255, 255, 255, 0) !important;}, ::-webkit - scrollbar{display: none;}')
        webview.openDevTools();

        ipcRenderer.on('some-name', (event, result) => {
          console.log("NAME", result)
          const { x, y } = result;



          webview.sendInputEvent({ type: 'mouseDown', x, y, button: 'left', clickCount: 1 });
          webview.sendInputEvent({ type: 'mouseUp', x, y, button: 'left', clickCount: 1 });

        })

        function tester() {
          webview.sendInputEvent({ type: 'mouseDown', x: 1263, y: 730, button: 'left', clickCount: 100 });
        }
        setTimeout(() => {

          // webview.sendInputEvent({ type: 'mouseDown', x: 1263, y: 730, button: 'left', clickCount: 100 });
          // webview.sendInputEvent({ type: 'mouseUp', x: 1263, y: 730, button: 'left', clickCount: 1 });
          var b = document.body
          b.addEventListener('click', function (event) { console.log(event.pageX, event.pageY) }, false);
          //   webview.sendInputEvent({ type: 'mouseUp', x: 1263, y: 730, button: 'left', globalX: 1263, globalY: 730 });
          webview.insertBefore
        }, 5000);
      }
      console.log(displays[0].size.height)
      // webview.style.width = '1'
      webview.style.width = `${displays[0].size.width}px`
      webview.style.height = `${displays[0].size.height}px`



      webview.addEventListener('did-start-loading', loadstart)
      webview.addEventListener('did-stop-loading', loadstop)
    }
  </script>
</body>

</html>